import { useMatchMedia } from '@/hooks/useMatchMedia';
import { StarCom } from './styled';

const Star = ({ loadingState, prediction, color = 'violet' }) => {
  const { isMinMobile } = useMatchMedia();

  const animationVariants = {
    play: {
      x: [!isMinMobile ? '-180%' : '-232%', '0%'],
      y: ['-100%', '0%'],
      rotateX: [-360, 0],
      rotateY: [-360, 0],
      bottom: ['50%', '0%'],
      left: ['50%', '0%'],
      scale: [0.8, 1],
      transition: { duration: 0.5, ease: 'easeInOut' },
    },
  };

  return (
    <StarCom
      animate={loadingState && !prediction && 'play'}
      variants={animationVariants}
      xmlns="http://www.w3.org/2000/svg"
      width="60"
      height="60"
      viewBox="0 0 60 60"
      fill="none"
    >
      <path
        d="M59.557 29.7785C59.557 46.2247 46.2247 59.557 29.7785 59.557C13.3323 59.557 0 46.2247 0 29.7785C0 13.3323 13.3323 0 29.7785 0C46.2247 0 59.557 13.3323 59.557 29.7785Z"
        fill={!prediction ? '#EF7BF8' : ''}
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M28.6916 17.0834C29.0104 16.8601 29.3901 16.7404 29.7793 16.7404C30.1685 16.7404 30.5482 16.8601 30.867 17.0834C31.1814 17.3036 31.4215 17.614 31.5557 17.9735L34.1106 24.4072L34.1182 24.4271C34.1206 24.4334 34.1247 24.439 34.1302 24.443C34.1356 24.447 34.1421 24.4494 34.1489 24.4498L34.1547 24.4501L41.0177 24.8922C42.7992 25.0079 43.4081 27.238 42.1115 28.3158L36.8545 32.7005L36.8514 32.7031C36.8396 32.7129 36.8308 32.7258 36.826 32.7403C36.8213 32.7545 36.8206 32.7697 36.824 32.7843L36.8243 32.7854L38.5213 39.4571C38.9322 41.079 37.1808 42.5396 35.6573 41.5786L35.655 41.5771L29.7923 37.8548C29.7886 37.8524 29.7837 37.8508 29.7793 37.8508C29.7749 37.8508 29.7705 37.8521 29.7668 37.8545L29.7653 37.8554L24.3116 41.3091L24.3107 41.3096C22.6394 42.3722 20.709 40.7567 21.1653 38.9684L22.7343 32.7854L22.7345 32.7844C22.7379 32.7698 22.7373 32.7546 22.7326 32.7403C22.7278 32.7258 22.719 32.7129 22.7071 32.7031L22.7041 32.7005L17.4478 28.3164C16.1513 27.2386 16.7589 25.0079 18.5404 24.8922L25.4097 24.4498C25.4164 24.4494 25.423 24.447 25.4284 24.443C25.4339 24.439 25.438 24.4334 25.4404 24.4271L25.448 24.4072L28.0029 17.9735C28.1371 17.614 28.3772 17.3036 28.6916 17.0834Z"
        fill={!prediction ? '#8EFCFD' : `var(--color-${color ? color : 'white'})`}
      />
    </StarCom>
  );
};

export default Star;
