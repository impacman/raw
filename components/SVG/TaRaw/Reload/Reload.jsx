import { useMatchMedia } from '@/hooks/useMatchMedia';
import { ReloadCom } from './styled';

const Reload = ({ loadingState, prediction, color }) => {
  const { isMinMobile } = useMatchMedia();

  const animationVariants = {
    play: {
      x: [!isMinMobile ? '170%' : '236%', '0%'],
      y: [!isMinMobile ? '130%' : '106%', '0%'],
      rotateX: [-360, 0],
      bottom: ['50%', '0%'],
      right: ['50%', '0%'],
      scale: [0.8, 1],
      transition: { duration: 0.5, ease: 'easeInOut' },
    },
  };

  return (
    <ReloadCom
      animate={loadingState && !prediction && 'play'}
      variants={animationVariants}
      data-reload
      xmlns="http://www.w3.org/2000/svg"
      width="60"
      height="60"
      viewBox="0 0 60 60"
      fill="none"
    >
      <path
        data-reload
        d="M59.557 29.7785C59.557 46.2247 46.2247 59.557 29.7785 59.557C13.3323 59.557 0 46.2247 0 29.7785C0 13.3323 13.3323 0 29.7785 0C46.2247 0 59.557 13.3323 59.557 29.7785Z"
        fill={!prediction ? '#FFFC83' : ''}
      />
      <path
        data-reload
        fillRule="evenodd"
        clipRule="evenodd"
        d="M24.8976 17.9862C26.4456 17.3443 28.1049 17.014 29.7807 17.014C31.4565 17.014 33.1158 17.3443 34.6638 17.9862C36.2118 18.6281 37.618 19.5688 38.8021 20.7546C39.2172 21.1703 39.2167 21.8436 38.801 22.2587C38.3854 22.6737 37.712 22.6732 37.297 22.2576C36.3105 21.2696 35.1388 20.4858 33.8491 19.951C32.5594 19.4163 31.1769 19.141 29.7807 19.141C28.3845 19.141 27.002 19.4163 25.7123 19.951C24.4226 20.4858 23.2509 21.2696 22.2644 22.2576L19.5648 24.9492C19.1489 25.3639 18.9134 24.9162 18.4987 24.5003C18.084 24.0844 17.6395 23.8653 18.0554 23.4505L20.7601 20.7538C21.944 19.5684 23.35 18.6279 24.8976 17.9862Z"
        fill={!prediction ? '#F17773' : `var(--color-${color ? color : 'white'})`}
      />
      <path
        data-reload
        d="M18.0554 19.6316C18.0554 19.0442 17.5792 18.5681 16.9919 18.5681C16.4045 18.5681 15.9284 19.0442 15.9284 19.6316V26.0127C15.9284 26.6001 16.4045 27.0762 16.9919 27.0762H23.373C23.9604 27.0762 24.4365 26.6001 24.4365 26.0127C24.4365 25.4254 23.9604 24.9492 23.373 24.9492H19.5648C19.1489 25.3639 18.9134 24.9162 18.4987 24.5003C18.084 24.0844 17.6395 23.8653 18.0554 23.4505V19.6316Z"
        fill={!prediction ? '#F17773' : `var(--color-${color ? color : 'white'})`}
      />
      <path
        data-reload
        fillRule="evenodd"
        clipRule="evenodd"
        d="M34.5294 41.5903C32.9815 42.2322 31.3221 42.5626 29.6463 42.5626C27.9706 42.5626 26.3112 42.2322 24.7633 41.5903C23.2153 40.9485 21.809 40.0077 20.6249 38.8219C20.2099 38.4063 20.2104 37.7329 20.626 37.3179C21.0416 36.9029 21.715 36.9033 22.1301 37.319C23.1166 38.3069 24.2882 39.0907 25.5779 39.6255C26.8677 40.1603 28.2502 40.4355 29.6463 40.4355C31.0425 40.4355 32.425 40.1603 33.7147 39.6255C35.0045 39.0907 36.1761 38.3069 37.1626 37.319L39.8622 34.6273C40.2782 34.2126 40.5136 34.6603 40.9284 35.0762C41.3431 35.4922 41.7876 35.7113 41.3716 36.126L38.6678 38.8219L38.6669 38.8228C37.483 40.0082 36.0771 40.9486 34.5294 41.5903Z"
        fill={!prediction ? '#F17773' : `var(--color-${color ? color : 'white'})`}
      />
      <path
        data-reload
        d="M41.3716 39.9449C41.3716 40.5323 41.8478 41.0084 42.4352 41.0084C43.0225 41.0084 43.4987 40.5323 43.4987 39.9449V33.5638C43.4987 32.9765 43.0225 32.5003 42.4352 32.5003H36.054C35.4667 32.5003 34.9905 32.9765 34.9905 33.5638C34.9905 34.1512 35.4667 34.6273 36.054 34.6273H39.8622C40.2782 34.2126 40.5136 34.6603 40.9284 35.0762C41.3431 35.4922 41.7876 35.7113 41.3716 36.126V39.9449Z"
        fill={!prediction ? '#F17773' : `var(--color-${color ? color : 'white'})`}
      />
    </ReloadCom>
  );
};

export default Reload;
